<% content_for :title, "SP 2050 - Mes futurs favoris" %>
<% content_for :description, "Retrouvez tous vos futurs favoris sur SP 2050. Une collection personnalisée de futurs qui vous ont marqué." %>
<% content_for :meta_robots, "noindex, nofollow" %>

<div class="flex flex-col min-h-screen">
  <div class="w-full grow min-w-0">
    <div class="flex flex-row justify-between items-center p-xs sticky top-[theme('top.navbar-height')] z-20 bg-white">
      <h1 class="text-2l lg:text-display items-center flex">Mes favoris
        <div class="font-mono text-base md:text-2xl inline-flex items-center ml-xxs">
          <span>[</span>
          <div data-controller="randomize-letter-animation" data-randomize-letter-animation-text-value="<%= @favorite_posts.count %>"><%= @favorite_posts.count %></div>
          <span>]</span>
        </div>
      </h1>
    </div>

    <div class="m-auto justify-center p-xs pt-0">
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-xs grow justify-center" data-controller="staggered-animation">
        <% if @favorite_posts.any? %>
          <% @favorite_posts.each do |post| %>
            <%= render "posts/post", post: post %>
          <% end %>
        <% else %>
          <div class="col-span-full text-center py-lg">
            <p class="text-gray-500 text-lg">Tu n'as pas encore de favoris.</p>
            <%= link_to "Explorer les futurs", posts_path, class: "mt-sm inline-block tw-btn-secondary" %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
